<!DOCTYPE HTML>
<html>
  <head>
    <title>Nanowire example</title>
    <meta charset="utf-8" />
  </head>
  <body>
    <div>
      <nw-frame id="whoami">
        <div>Hello, who am I?</div>
        <button onClick= "fetchAndApply(randomNameFile())">
          What's your name?
        </button>
      </nw-frame>
    </div>
    <script type="module">
      import { apply } from "/js/nanowire.mjs?v=1";
      window.fetchAndApply = url =>
        fetch(url).then(res => res.text()).then(body => apply(document, body));
      window.randomNameFile = () =>
        (Math.random() * 2) < 1.0 ? "/alice.html" : "/bob.html";
    </script>
  </body>
</html>
